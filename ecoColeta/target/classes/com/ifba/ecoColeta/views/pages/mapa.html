<!DOCTYPE html>
<html>
<head>
<title>Mapa Eco</title>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0">
<link rel="stylesheet" href="../stylesheets/map-style.css">
<script src="/src/main/java/com/ifba/ecoColeta/ecoColeta/views/scripts/mapa-script.js" defer></script>

</head>

<body>
    <div class="search">
        <!--
        <div class="checkbox-container">
            <label>
                <input type="checkbox" name="opcao1"> Opção 1
            </label>
            <label>
                <input type="checkbox" name="opcao2"> Opção 2
            </label>
            <label>
                <input type="checkbox" name="opcao3"> Opção 3
            </label>
        </div>-->
        <div class="search-content">
            <input type="text" name="my_location" id="my_location" placeholder="Onde estou..." value="" />
            <input type="text" name="job_location" id="job_location" placeholder="Escolha o local..." value="" />
        </div>
    </div>
    <div id="map"></div>
    
    <script src="../scripts/mapa-script.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6jbXU6rzzlIPpJvtIYA9TUWeSpAnPiOE&libraries=places&callback=initMap" async defer></script>



    <style>
        body {
          font-family: Arial, sans-serif;
        }
        .modal {
          display: none;
          position: fixed;
          z-index: 1;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: auto;
          background-color: rgba(0,0,0,0.4);
          padding-top: 60px;
        }
        .modal-content {
          background-color: #fefefe;
          margin: 5% auto;
          padding: 20px;
          border: 1px solid #888;
          width: 80%;
          max-width: 500px;
          text-align: center;
        }
        .close {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
        }
        .close:hover,
        .close:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
        }
      </style>
      </head>
      <body>
      
      <div id="myModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <h2>Selecione o material</h2>
          <label>
            <input type="checkbox" id="vidrochk"> vidro
          <br>
          <label>
            <input type="checkbox" id="plasticochk"> plastico
          </label>
          <br>
          <label>
            <input type="checkbox" id="papelchk"> papel
          </label>
          <br>
          <label>
            <input type="checkbox" id="metalchk"> metal
          </label>
          <br>
          <button id="enviar">Cadastrar coleta</button>
        </div>
      </div>
      
      <script>
        document.getElementsByClassName("close")[0].addEventListener("click", function() {
          document.getElementById("myModal").style.display = "none";
        });
      
        document.getElementById("vidrochk").addEventListener('change', function() {
                fetch("http://localhost:8080/descarte/save",
            {
                headers:{
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
            },
                method: 'POST',
                body: JSON.stringify({
                    material: "vidro"
                })


            })
            .then(function(res) {console.log(res)})
            .catch(function(res) {console.log(res)});
            alert("Cadastro feito com sucesso");
            });

            document.getElementById("papelchk").addEventListener('change', function() {
                fetch("http://localhost:8080/descarte/save",
            {
                headers:{
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
            },
                method: 'POST',
                body: JSON.stringify({
                    material: "papel"
                })


            })
            .then(function(res) {console.log(res)})
            .catch(function(res) {console.log(res)});
            alert("Cadastro feito com sucesso");
            });

            document.getElementById("plasticochk").addEventListener('change', function() {
                fetch("http://localhost:8080/descarte/save",
            {
                headers:{
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
            },
                method: 'POST',
                body: JSON.stringify({
                    material: "plastico"
                })


            })
            .then(function(res) {console.log(res)})
            .catch(function(res) {console.log(res)});
            alert("Cadastro feito com sucesso");
            });

            document.getElementById("metalchk").addEventListener('change', function() {
                fetch("http://localhost:8080/descarte/save",
            {
                headers:{
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
            },
                method: 'POST',
                body: JSON.stringify({
                    material: "metal"
                })


            })
            .then(function(res) {console.log(res)})
            .catch(function(res) {console.log(res)});
            alert("Cadastro feito com sucesso");
            });

        document.getElementById("closeModal").addEventListener("click", function() {
          document.getElementById("myModal").style.display = "none";
        });
      </script>



</body>

</html>